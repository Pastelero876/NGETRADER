# Copia este archivo a `.env` y rellena los valores necesarios

# Proveedor de datos (alpha_vantage/binance/tiingo)
DATA_PROVIDER=alpha_vantage

# Broker (paper/alpaca/binance/coinbase/ibkr)
BROKER=paper

# Perfil de ejecución (dev/paper/live)
PROFILE=dev
# Binance (trading)
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Coinbase Exchange (trading)
COINBASE_API_KEY=
COINBASE_API_SECRET=
COINBASE_PASSPHRASE=

# Interactive Brokers (TWS/Gateway)
IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=1


# Clave de Alpha Vantage
ALPHA_VANTAGE_API_KEY=

# Claves de Alpaca
ALPACA_API_KEY=
ALPACA_API_SECRET=

# Notificaciones Telegram
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Alertas Email (SMTP opcional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TO=

# Circuit breaker
MAX_DAILY_DRAWDOWN_PCT=0.05
RISK_PCT_PER_TRADE=0.01
TRAILING_ATR_MULT=1.5

# Caché de datos
CACHE_TTL_SECONDS=43200

# Límites de riesgo/exposición
MAX_OPEN_POSITIONS=10
MAX_EXPOSURE_PCT=1.0
MAX_SYMBOL_EXPOSURE_PCT=0.2
MAX_SECTOR_EXPOSURE_PCT=0.35
SECTOR_MAP=AAPL=TECH,MSFT=TECH,BTCUSDT=CRYPTO
USE_SENTIMENT_BIAS=True
SENTIMENT_WINDOW_MINUTES=180
MAX_WEEKLY_DRAWDOWN_PCT=0.10

# Ventanas y límites operativos
COOLDOWN_MINUTES=5
MAX_TRADES_PER_DAY=20
MAX_TRADES_PER_DAY_PER_STRATEGY=50
TRADING_HOURS_START=00:00
TRADING_HOURS_END=23:59
CORRELATION_LIMIT=0.9
VAR_LIMIT_PCT=0.10
ES_LIMIT_PCT=0.15
KELLY_CAP_PCT=0.25
MAX_ERROR_RATE=0.2
MAX_SLIPPAGE_BPS=50
KILL_SWITCH_ARMED=False

# Hugging Face
HUGGINGFACE_API_TOKEN=
HUGGINGFACE_SENTIMENT_MODEL=ProsusAI/finbert
HUGGINGFACE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
HUGGINGFACE_SUMMARIZATION_MODEL=facebook/bart-large-cnn

# Online Policy (Aprendizaje en vivo)
ONLINE_LOOKBACK=30
ONLINE_LEARNING_RATE=0.01
ONLINE_L2_REG=0.0001

# NLP/LLM
NLP_PROVIDER=hf
ALLOW_ONLINE_LLM=false
FEES_SOURCE=db
DATA_L1_SOURCE=lowlat
UNIVERSE_FILE=./data/universe/symbols.txt
ENABLE_LIVE_TRADING=false
SLO_SLIPPAGE_BPS=8
SLO_ERROR_RATE=0.01
SLO_P95_MS=300
ENABLE_CANARY=false
CHALLENGER_SHARE=0.2
KILL_CANCEL_PENDING=true
ENABLE_ONLINE_LEARNING=false
ONLINE_TRAINING_ENABLED=false

# TCA/SLO job
TCA_SOURCE=db
DB_URL=postgresql+psycopg2://user:pass@host:5432/dbname
TCA_TABLE=tca_events
PROM_URL=http://localhost:9090
PROM_SLIPPAGE_METRIC=slippage_bps
PROM_PLACE_MS_METRIC=order_place_latency_ms
TCA_ENABLED=true
TCA_SINK=both
TCA_DB_URL=postgresql+psycopg2://user:pass@host:5432/dbname
TCA_TABLE=tca_events
PROM_PUSH_URL=http://localhost:9091
PROM_JOB=tca_writer
PROM_INSTANCE=nge-trader
# Tuning opcional
TCA_BATCH_MAX=200
TCA_FLUSH_MS=500
TCA_MAX_QUEUE=50000

# Ejecución (slicing)
SLICING_TRANCHES=4
SLICING_BPS=5
VWAP_WINDOW_SEC=60
POV_RATIO=0.10
SLICING_PROFILE_MAP={"BTCUSDT": {"slicing_tranches": 6, "slicing_bps": 7}}
RISK_PROFILE_MAP={"BTCUSDT": {"risk_pct_per_trade": 0.02}}
UI_ROLE=operator
ACCOUNT_ID=default
STRATEGY_ID=default
BROKER_ORDERS_PER_MINUTE=60
SYMBOL_ORDERS_PER_MINUTE=10
STRATEGY_ORDERS_PER_MINUTE=30
MAX_TRADES_PER_DAY_PER_SYMBOL=20
MAX_TRADES_PER_DAY_PER_ACCOUNT=100
PAUSED_SYMBOLS=

# Validaciones de instrumento
MIN_NOTIONAL_USD=
QTY_STEP=
PRICE_TICK=

# Flags (feature toggles)
ENABLE_IDEMPOTENCY=true
ENABLE_RETRY_POLICY=true
ENABLE_WS_BACKFILL=true
ENABLE_MARKET_CLOCK_ENFORCEMENT=false
ENABLE_TIME_SKEW_BREAKER=true

# Healthcheck
HC_MAX_SKEW_MS=100
HC_MAX_OUTBOX_AGE_SEC=600

# Tiingo
TIINGO_API_KEY=

# FRED (calendario económico)
FRED_API_KEY=

# Twitter API v2
TWITTER_BEARER_TOKEN=

